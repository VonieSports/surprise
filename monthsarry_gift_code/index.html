<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Monthsary Journey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes progress {
            from { width: 0%; }
            to { width: 100%; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        @keyframes heartFloat {
            0% {
                transform: translateY(100vh) scale(0.5);
                opacity: 0;
            }
            20% {
                transform: translateY(80vh) scale(1);
                opacity: 1;
            }
            80% {
                transform: translateY(20vh) scale(0.7);
                opacity: 0.8;
            }
            100% {
                transform: translateY(-100px) scale(0.3);
                opacity: 0;
            }
        }
        
        .heart {
            position: fixed;
            pointer-events: none;
            user-select: none;
            z-index: 10000;
            animation-timing-function: linear;
            animation-fill-mode: forwards;
            will-change: transform, opacity;
        }
        
        .page {
            display: none;
            min-height: 100vh;
        }
        
        .page.active {
            display: block;
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.8s ease-out forwards;
        }
        
        .animate-heartbeat {
            animation: heartbeat 1.5s ease-in-out infinite;
        }
        
        .animate-pulse {
            animation: pulse 2s infinite;
        }
        
        .animate-slideUp {
            animation: slideUp 0.5s ease-out forwards;
        }
        
        .animate-progress {
            animation: progress 4s linear forwards;
        }
        
        .animate-shake {
            animation: shake 0.5s ease-in-out;
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }

        .gallery-container {
            display: grid;
            gap: 1.5rem;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(244, 63, 94, 0.2);
            transition: all 0.3s ease;
            background-color: white;
            aspect-ratio: 1 / 1;
        }

        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(244, 63, 94, 0.3);
        }

        .gallery-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
            display: block;
        }

        .gallery-item:hover .gallery-image {
            transform: scale(1.05);
        }

        .gallery-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, transparent 70%, rgba(0, 0, 0, 0.1));
            z-index: 1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .gallery-item:hover::before {
            opacity: 1;
        }

        @media (min-width: 768px) {
            .gallery-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .gallery-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-rose-50 via-pink-50 to-white">
    <section id="calendarPage" class="page active">
        <div class="floating-hearts" id="heartsContainer"></div>
        <main class="min-h-screen flex flex-col items-center justify-center px-4 py-8 relative z-10">
            <div class="w-full max-w-md mx-auto">
                <div class="text-center mb-12 animate-fadeIn">
                    <div class="mb-8">
                        <span class="text-6xl mb-6 inline-block animate-heartbeat text-rose-500">üíñ</span>
                        <h1 class="text-3xl md:text-4xl font-bold bg-gradient-to-r from-rose-500 to-pink-500 bg-clip-text text-transparent mb-3">
                            Our Monthsary Journey
                        </h1>
                        <p class="text-gray-600 text-lg">
                            Enter the date
                        </p>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-xl shadow-pink-400 p-8 md:p-10 mb-8 animate-slideUp border border-rose-100 hover:shadow-pink-300 hover:shadow-xl transition-shadow duration-300">
                    <div class="text-center mb-10">
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">When did our love story begin?</h2>
                    </div>
                    
                    <div class="relative mb-8">
                        <input type="date" 
                               id="dateInput" 
                               class="w-full p-4 text-lg border-2 border-gray-200 rounded-xl focus:border-rose-400 focus:ring-2 focus:ring-rose-100 focus:outline-none transition-all duration-200 text-center cursor-pointer"
                               onchange="checkDate()"
                               aria-label="Select our monthsary date">
                        <div class="absolute right-4 top-1/2 transform -translate-y-1/2 text-rose-400 pointer-events-none">
                            üìÖ
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <div class="inline-flex items-center gap-3 bg-rose-50 px-4 py-2 rounded-full">
                            <span class="text-rose-600 font-medium text-sm">Get ready!</span>
                        </div>
                    </div>
                </div>
                <div id="errorMessage" class="hidden w-full max-w-md mx-auto mb-8 animate-fadeIn">
                    <div class="bg-white rounded-2xl shadow-lg p-6 border-2 border-rose-200 bg-gradient-to-r from-rose-50 to-pink-50">
                        <div class="flex items-start gap-4">
                            <div class="flex-shrink-0">
                                <div class="w-12 h-12 bg-rose-100 rounded-full flex items-center justify-center animate-heartbeat">
                                    <span class="text-rose-500 text-xl"><img src="ourPictures/cat.jpg" alt="photo" class="rounded w-full h-full object-cover"></span>
                                </div>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-rose-700 font-bold mb-1">Hmmm!?</h3>
                                <p class="text-rose-600">You don't know our Monthsary?</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <div id="successPopup" class="hidden fixed inset-0 flex items-center justify-center z-50 p-4">
            <div class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
            <div class="relative bg-white rounded-3xl shadow-2xl p-8 md:p-10 max-w-md w-full animate-slideUp border-2 border-rose-100">
                <div class="text-center">
                    <span class="text-6xl mb-6 block animate-heartbeat text-rose-500">üíñ</span>
                    
                    <h1 class="text-3xl md:text-4xl font-bold bg-gradient-to-r from-rose-500 to-pink-500 bg-clip-text text-transparent mb-3">
                        Happy Monthsary LALAB!
                    </h1>
                    <p class="text-rose-500 text-xl font-medium mb-8 animate-pulse">
                        I LOVE YOU mwaa! 
                    </p>
                    <div class="mb-8">
                        <div class="w-full bg-gray-200 rounded-full h-2 overflow-hidden">
                            <div id="progressBar" class="h-2 bg-gradient-to-r from-rose-500 to-pink-500 rounded-full animate-progress"></div>
                        </div>
                        <p class="text-gray-600 mt-4 text-sm">
                            Taking you to your surprise in 
                            <span id="countdown" class="font-bold text-rose-600">4</span> 
                            seconds...
                        </p>
                    </div>
                    <div class="flex justify-center gap-2">
                        <div class="w-2 h-2 bg-rose-400 rounded-full animate-pulse"></div>
                        <div class="w-2 h-2 bg-pink-400 rounded-full animate-pulse" style="animation-delay: 0.2s"></div>
                        <div class="w-2 h-2 bg-rose-400 rounded-full animate-pulse" style="animation-delay: 0.4s"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section (Page 2) -->
    <section id="galleryPage" class="page">
        <div class="floating-hearts" id="galleryHeartsContainer"></div>
        <main class="min-h-screen relative z-10">
            <div class="container mx-auto px-4 py-8 md:py-12 lg:py-16">
                <div class="text-center mb-12 md:mb-16" style="animation-delay: 0.1s">
                    <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-rose-500 mb-4 animate-heartbeat">
                        Happy Monthsary LALAB!
                    </h1>
                    <p class="text-rose-500 text-2xl md:text-3xl font-medium mb-6">
                        ILOVEYOU mwaa!üòö
                    </p>
                    <div class="w-16 h-1 bg-gradient-to-r from-rose-500 to-pink-500 mx-auto rounded-full"></div>
                </div>

                <div class="max-w-3xl mx-auto mb-12 md:mb-16 lg:mb-20 animate-fadeIn" style="animation-delay: 0.2s">
                    <div class="bg-white rounded-2xl shadow-lg p-8 md:p-10 lg:p-12 relative border border-rose-100">
                        <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-rose-500 to-pink-500 rounded-t-2xl"></div>
                        <div class="text-center mb-8 md:mb-10">
                            <h2 class="text-2xl md:text-3xl lg:text-4xl font-bold text-rose-700 mb-4 font-dancing"
                                style="font-family: cursive;">
                                My Dearest LOVE Angela
                            </h2>
                            <div class="flex justify-center gap-2">
                                <div class="w-2 h-2 bg-rose-400 rounded-full animate-pulse"></div>
                                <div class="w-2 h-2 bg-pink-400 rounded-full animate-pulse" style="animation-delay: 0.2s"></div>
                                <div class="w-2 h-2 bg-rose-400 rounded-full animate-pulse" style="animation-delay: 0.4s"></div>
                            </div>
                        </div>

                        <div class="space-y-4 md:space-y-6 text-gray-700 text-base md:text-lg leading-relaxed">
                            <p>Hi love, how are you? hope you're okay today. I just wanted to tell you that i love you always no
                                matter what...Thankyou for everything, I appreciate your all efforts and i always here for you,
                                remember that my love. </p>

                            <p>Sorry for everything i did, the arguments that we had, the times i wasn't there when you needed me, all the little things i messed up. I know sorry isn't enough, but it's all i can offer right now, along with my promise to do better. I'm still learning and i'm going to keep trying to be the person you deserve. I'll keep working on myself and i hope you can see that.</p>

                            <p>Here's to us, to our love and to countless more months together. You are my today and all of
                                my tomorrows. I love you moreee.</p>
                        </div>

                        <div class="mt-10 md:mt-12 text-right">
                            <div class="inline-block border-rose-300 pt-4 pl-8">
                                <p class="text-rose-600 font-bold mb-1 text-lg md:text-xl">Forever and always,</p>
                                <p class="text-rose-500">Your loving partner, Von Pogiüíñ</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mb-12 md:mb-16 lg:mb-20 animate-fadeIn" style="animation-delay: 0.3s">
                    <div class="text-center mb-10 md:mb-12">
                        <h2 class="text-2xl md:text-3xl lg:text-4xl font-bold text-gray-800 mb-4">Our Beautiful Journey
                            Together ‚ù§Ô∏è</h2>
                        <p class="text-gray-600 text-lg md:text-xl">Memories that will last a lifetime</p>
                    </div>

                    <div class="gallery-container max-w-6xl mx-auto">
                        <div class="gallery-item">
                            <img src="ourPictures/7.jpg" alt="Our beautiful memory" class="gallery-image">
                        </div>

                        <div class="gallery-item">
                            <img src="ourPictures/1.jpg" alt="Our beautiful memory" class="gallery-image">
                        </div>

                        <div class="gallery-item">
                            <img src="ourPictures/12.jpg" alt="Our beautiful memory" class="gallery-image">
                        </div>

                        <div class="gallery-item">
                            <img src="ourPictures/4.jpg" alt="Our beautiful memory" class="gallery-image">
                        </div>

                        <div class="gallery-item">
                            <img src="ourPictures/5.jpg" alt="Our beautiful memory" class="gallery-image">
                        </div>

                        <div class="gallery-item">
                            <img src="ourPictures/6.jpg" alt="Our beautiful memory" class="gallery-image">
                        </div>

                        <div class="gallery-item">
                            <img src="ourPictures/8.jpg" alt="Our beautiful memory" class="gallery-image">
                        </div>

                        <div class="gallery-item">
                            <img src="ourPictures/2.jpg" alt="Our beautiful memory" class="gallery-image">
                        </div>

                        <div class="gallery-item">
                            <img src="ourPictures/9.jpg" alt="Our beautiful memory" class="gallery-image">
                        </div>
                    </div>
                </div>

                <div class="text-center animate-fadeIn" style="animation-delay: 1.0s">
                    <button onclick="goToRosePage()"
                        class="bg-gradient-to-r from-rose-500 to-pink-500 text-white font-bold py-4 px-8 md:py-5 md:px-12 rounded-full shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 text-lg md:text-xl">
                        <span>Click this LALAB üíñ</span>
                    </button>
                    <p class="text-gray-600 mt-4 text-lg md:text-xl">I have a special surprise for you!</p>
                </div>
            </div>
        </main>
    </section>

    <!-- Rose Section (Page 3) -->
    <section id="rosePage" class="page">
        <div id="heartContainer" class="fixed inset-0 pointer-events-none z-10"></div>
        <main class="min-h-screen relative z-20">
            <div class="container mx-auto px-4 py-8 md:py-12 lg:py-16">
                <div class="text-center mb-12 md:mb-16 lg:mb-20 fade-in">
                    <div class="text-8xl md:text-9xl lg:text-10xl mb-8 text-rose-500">
                        üåπ
                    </div>
                    
                    <div class="inline-block bg-white/95 backdrop-blur-sm rounded-2xl shadow-lg px-6 py-4 mb-8">
                        <p class="text-xl md:text-2xl font-bold text-rose-600">
                            For My Beautiful Girlfriend Angela
                        </p>
                    </div>
                </div>
                <div class="max-w-3xl mx-auto mb-12 md:mb-16 lg:mb-20 fade-in" style="animation-delay: 0.1s">
                    <div class="text-center mb-8 md:mb-10">
                        <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-rose-600  mb-6">
                            My Heart is Yours...
                        </h1>
                    </div>
                    
                    <div class="bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-8 md:p-10 lg:p-12 border border-white/20">
                        <p class="text-xl md:text-2xl lg:text-3xl text-gray-800 mb-8 font-dancing text-center leading-relaxed" style="font-family:  cursive;">
                          Every day with you feels like a beautiful dream, <br>
                          I never want to wake up from.
                        </p>
                        
                        <div class="my-8 md:my-10 text-center">
                            <span class="text-5xl md:text-6xl text-rose-500">
                                <img src="ourPictures/catiloveoyu.jpg" alt="Our special memory" class="max-h-[10rem] mx-auto rounded-lg object-cover ">
                            </span>
                        </div>
                        
                        <p class="text-lg md:text-xl text-rose-600 italic text-center font-medium">
                          Mwaa!
                        </p>
                    </div>
                </div>
                <div class="max-w-2xl mx-auto mb-12 md:mb-16 lg:mb-20 fade-in" style="animation-delay: 0.2s">
                    <div class="bg-gradient-to-r from-rose-50/90 to-pink-50/90 rounded-2xl shadow-lg p-8 md:p-10 border border-rose-200">
                        <h2 class="text-2xl md:text-3xl font-bold text-rose-700 mb-6 text-center">
                            Thank You For Everything
                        </h2>
                        <p class="text-gray-700 mb-8 text-center text-lg md:text-xl leading-relaxed">
                            For being my beautiful partner, my happiness and my everything.<br>
                            For every smile, every laugh and every moment we share.<br>
                            I love you more than words can express, my dearest LALAB.
                        </p>
                        <div class="flex justify-center gap-4 md:gap-6 text-3xl md:text-4xl">
                            <span class="shadow shadow-pink-400 shadow-xl rounded-full">üíï</span>
                        </div>
                    </div>
                </div>
                <div class="text-center fade-in" style="animation-delay: 0.3s">
                    <div class="flex flex-col sm:flex-row gap-4 justify-center mb-8">
                        <button onclick="goToGalleryPage()" 
                                class="bg-white text-rose-600 font-bold py-3 px-6 rounded-full shadow-lg hover:bg-rose-50 hover:shadow-xl transition-all duration-300 border-2 border-rose-600 text-lg">
                            ‚Üê Back to Memories
                        </button>
                        <button id="loveButton" onclick="createHeartStorm()" 
                                class="bg-gradient-to-r from-rose-500 to-pink-500 text-white font-bold py-3 px-6 rounded-full shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 text-lg active:scale-95">
                            Show More Love! üíò
                        </button>
                    </div>
                    
                    <p class="text-pink-500 mb-4 text-lg md:text-xl">My love for you grows every day...</p>
                    <div class="flex justify-center gap-2">
                        <div class="w-2 h-2 bg-rose-400 rounded-full"></div>
                        <div class="w-2 h-2 bg-pink-400 rounded-full"></div>
                        <div class="w-2 h-2 bg-rose-400 rounded-full"></div>
                    </div>
                </div>
            </div>
        </main>
    </section>

    <script>
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            const page = document.getElementById(pageId);
            if (page) {
                page.classList.add('active');
                window.scrollTo(0, 0);
                
                if (pageId === 'galleryPage') {
                    initializeGalleryHearts();
                }
            }
        }

        function createHearts(count, type = 'rose') {
            const container = document.getElementById('heartsContainer');
            if (!container) return;
            
            const colors = type === 'rose' 
                ? ['#999', '#777'] 
                : ['#ff4757', '#ff6b81', '#ff9ff3'];
            
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart';
                    
                    const startX = Math.random() * 100;
                    const duration = Math.random() * 4 + 2;
                    const size = Math.random() * 15 + 10;
                    const delay = Math.random() * 2;
                    
                    heart.style.left = `${startX}vw`;
                    heart.style.top = `100vh`;
                    heart.style.width = `${size}px`;
                    heart.style.height = `${size}px`;
                    heart.style.animation = `floatUp ${duration}s ease-in ${delay}s forwards`;
                    
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    heart.style.background = color;
                    
                    container.appendChild(heart);
                    
                    setTimeout(() => {
                        if (heart.parentNode === container) heart.remove();
                    }, (duration + delay) * 1000);
                }, i * 50);
            }
        }

        function initializeGalleryHearts() {
            const container = document.getElementById('galleryHeartsContainer');
            if (!container) return;
            
            createHeartsForContainer(10, 'love', container);
            setInterval(() => createHeartsForContainer(3, 'love', container), 3000);
        }

        function createHeartsForContainer(count, type = 'rose', container) {
            if (!container) return;
            
            const colors = type === 'rose' 
                ? ['#999', '#777'] 
                : ['#ff4757', '#ff6b81', '#ff9ff3'];
            
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart';
                    
                    const startX = Math.random() * 100;
                    const duration = Math.random() * 4 + 2;
                    const size = Math.random() * 15 + 10;
                    const delay = Math.random() * 2;
                    
                    heart.style.left = `${startX}vw`;
                    heart.style.top = `100vh`;
                    heart.style.width = `${size}px`;
                    heart.style.height = `${size}px`;
                    heart.style.animation = `floatUp ${duration}s ease-in ${delay}s forwards`;
                    
                    const color = colors[Math.floor(Math.random() * colors.length)];
                    heart.style.background = color;
                    
                    container.appendChild(heart);
                    
                    setTimeout(() => {
                        if (heart.parentNode === container) heart.remove();
                    }, (duration + delay) * 1000);
                }, i * 50);
            }
        }

        function initializeHearts() {
            createHearts(10, 'love');
            setInterval(() => createHearts(3, 'love'), 3000);
        }

        function checkDate() {
            const dateInput = document.getElementById('dateInput');
            const errorMessage = document.getElementById('errorMessage');
            const successPopup = document.getElementById('successPopup');
            
            const selectedDate = new Date(dateInput.value);
            const month = selectedDate.getMonth() + 1;
            const day = selectedDate.getDate();
            
            if (month === 10 && day === 27) {
                errorMessage.classList.add('hidden');
                showSuccessPopup();
                createHeartExplosion(50);
            } else {
                showError();
            }
        }

        function showError() {
            const dateInput = document.getElementById('dateInput');
            const errorMessage = document.getElementById('errorMessage');
            
            errorMessage.classList.remove('hidden');
            errorMessage.style.animation = 'none';
            setTimeout(() => errorMessage.style.animation = 'fadeIn 0.5s', 10);
            
            dateInput.classList.add('animate-shake');
            setTimeout(() => dateInput.classList.remove('animate-shake'), 500);
            
            setTimeout(() => dateInput.value = '', 300);
            createHearts(5, 'sad');
        }

        function showSuccessPopup() {
            const successPopup = document.getElementById('successPopup');
            const progressBar = document.getElementById('progressBar');
            const countdownElement = document.getElementById('countdown');
            
            successPopup.classList.remove('hidden');
            
            let countdown = 4;
            let progress = 0;
            const interval = setInterval(() => {
                countdown--;
                progress += 33.33;
                
                countdownElement.textContent = countdown;
                progressBar.style.width = `${progress}%`;
                
                if (countdown > 0) createHearts(2, 'love');
                if (countdown === 0) {
                    clearInterval(interval);
                    showPage('galleryPage');
                    successPopup.classList.add('hidden');
                }
            }, 1000);
        }

        function createHeartExplosion(count) {
            const container = document.getElementById('heartsContainer');
            
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'heart';
                    
                    const startX = 50 + (Math.random() - 0.5) * 40;
                    const startY = 50 + (Math.random() - 0.5) * 40;
                    const duration = Math.random() * 2 + 1;
                    const size = Math.random() * 20 + 15;
                    
                    heart.style.left = `${startX}vw`;
                    heart.style.top = `${startY}vh`;
                    heart.style.width = `${size}px`;
                    heart.style.height = `${size}px`;
                    heart.style.animation = `floatUp ${duration}s ease-out forwards`;
                    
                    const colors = ['#ff4757', '#ff6b81', '#ff9ff3'];
                    heart.style.background = colors[Math.floor(Math.random() * colors.length)];
                    
                    container.appendChild(heart);
                    setTimeout(() => heart.remove(), duration * 1000);
                }, i * 20);
            }
        }

        function goToRosePage() {
            for (let i = 0; i < 20; i++) {
                setTimeout(() => createHeartsForContainer(1, 'love', document.getElementById('galleryHeartsContainer')), i * 30);
            }
            setTimeout(() => showPage('rosePage'), 1000);
        }

        function goToGalleryPage() {
            showPage('galleryPage');
        }

        class HeartAnimation {
            constructor() {
                this.container = document.getElementById('heartContainer');
                this.hearts = [];
                this.maxHearts = 50;
                this.nextId = 0;
                this.lastClickTime = 0;
                this.clickCooldown = 300;
            }
            
            createHeart() {
                if (this.hearts.length >= this.maxHearts && this.hearts.length > 0) {
                    const oldHeart = this.hearts.shift();
                    if (oldHeart.element && oldHeart.element.parentNode) {
                        oldHeart.element.remove();
                    }
                }
                
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.innerHTML = '‚ù§Ô∏è';
                const left = Math.random() * 90 + 5; 
                const size = Math.random() * 20 + 50; 
                const duration = 2 + Math.random(); 
                const color = this.getRandomColor();
                
                heart.style.left = `${left}%`;
                heart.style.fontSize = `${size}px`;
                heart.style.color = color;
                heart.style.textShadow = `0 0 15px ${color}80`;
                heart.style.animation = `heartFloat ${duration}s linear forwards`;
                
                this.container.appendChild(heart);
                
                const heartId = this.nextId++;
                this.hearts.push({
                    id: heartId,
                    element: heart,
                    created: Date.now()
                });
            
                setTimeout(() => {
                    this.removeHeart(heartId);
                }, duration * 1000);
                
                return heartId;
            }
            
            createHeartStorm(count = 15) {
                const now = Date.now();
                if (now - this.lastClickTime < this.clickCooldown) {
                    return;
                }
                
                this.lastClickTime = now;
             
                for (let i = 0; i < count; i++) {
                    setTimeout(() => {
                        this.createHeart();
                    }, i * 50); 
                }
                const button = document.getElementById('loveButton');
                if (button) {
                    const originalText = button.textContent;
                    button.textContent = 'Mwaa! Mwaa!üòö';
                    button.disabled = true;
                    
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.disabled = false;
                    }, 800);
                }
            }
            
            removeHeart(id) {
                const index = this.hearts.findIndex(h => h.id === id);
                if (index !== -1) {
                    const heart = this.hearts[index];
                    if (heart.element && heart.element.parentNode) {
                        heart.element.style.opacity = '0';
                        heart.element.style.transition = 'opacity 0.3s';
                        
                        setTimeout(() => {
                            if (heart.element.parentNode) {
                                heart.element.remove();
                            }
                        }, 300);
                    }
                    this.hearts.splice(index, 1);
                }
            }
            
            getRandomColor() {
                const colors = [
                    '#ff6b9d', 
                    '#ff4081', 
                    '#e91e63', 
                    '#c2185b', 
                    '#ff80ab',
                    '#f50057', 
                    '#ff1493'  
                ];
                return colors[Math.floor(Math.random() * colors.length)];
            }
            
            clearAll() {
                this.hearts.forEach(heart => {
                    if (heart.element && heart.element.parentNode) {
                        heart.element.remove();
                    }
                });
                this.hearts = [];
                this.nextId = 0;
            }
        }
        
        const heartAnimator = new HeartAnimation();
        
        function createHeartStorm() {
            heartAnimator.createHeartStorm(12); 
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            showPage('calendarPage');
            
            initializeHearts();
            
            const rosePageObserver = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
                        const target = mutation.target;
                        if (target.id === 'rosePage' && target.classList.contains('active')) {
                            let lastInteraction = Date.now();
                            let autoPlayInterval;
                            
                            function startAutoPlay() {
                                if (autoPlayInterval) clearInterval(autoPlayInterval);
                                
                                autoPlayInterval = setInterval(() => {
                                    if (Date.now() - lastInteraction > 10000) { 
                                        heartAnimator.createHeartStorm(8);
                                    }
                                }, 15000); 
                            }
                            
                            ['mousemove', 'click', 'touchstart', 'keydown'].forEach(event => {
                                document.addEventListener(event, () => {
                                    lastInteraction = Date.now();
                                });
                            });
                            
                            setTimeout(startAutoPlay, 3000);
                            
                            setTimeout(() => {
                                for (let i = 0; i < 5; i++) {
                                    setTimeout(() => {
                                        heartAnimator.createHeart();
                                    }, i * 200);
                                }
                            }, 1000);
                        }
                    }
                });
            });
            
            const rosePage = document.getElementById('rosePage');
            if (rosePage) {
                rosePageObserver.observe(rosePage, { attributes: true });
            }
        });
    </script>
</body>
</html>